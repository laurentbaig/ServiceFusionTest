(function(t){function e(e){for(var a,i,c=e[0],r=e[1],l=e[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var r=n[c];0!==s[r]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08f6":function(t,e,n){},"0bc6":function(t,e,n){},"27aa":function(t,e,n){},"2b00":function(t,e,n){"use strict";var a=n("27aa"),s=n.n(a);s.a},"2ba9":function(t,e,n){"use strict";var a=n("0bc6"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("bc3a"),s=n.n(a),o=n("2b0e"),i=n("2f62"),c=n("8c4f"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],u={name:"app"},d=u,m=(n("2ba9"),n("2877")),f=Object(m["a"])(d,r,l,!1,null,"02544faa",null),p=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Contacts")]),n("div",{staticClass:"columns"},[n("div",{staticClass:"col-3"},[n("button",{staticClass:"btn btn-primary",on:{click:t.onAddContactClicked}},[t._v(" Add Contact ")])]),n("div",{staticClass:"col-2"}),n("div",{staticClass:"col-4"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.searchString},on:{input:[function(e){e.target.composing||(t.searchString=e.target.value)},t.debouncedUpdateSearchOptions]}}),n("div",{staticClass:"dropdown dropdown-right",class:{active:t.isSearching}},[t._m(0),n("ul",{staticClass:"menu"},t._l(t.searchOptions,(function(e,a){return n("li",{key:a,staticClass:"menu-item"},[n("router-link",{attrs:{to:"/contact/"+e.id}},[t._v(" "+t._s(e.fname)+" "+t._s(e.lname)+" ")])],1)})),0)])])]),n("div",{staticClass:"col-3"},[n("span",{staticClass:"float-right"},[t._v(" "+t._s(t.fromRow)+" - "+t._s(t.toRow)+" of "+t._s(t.totalRecords)+" "),n("button",{staticClass:"btn",attrs:{disabled:!t.canPageLeft},on:{click:function(e){return t.changePage(-1)}}},[n("i",{staticClass:"icon icon-arrow-left"})]),n("button",{staticClass:"btn",attrs:{disabled:!t.canPageRight},on:{click:function(e){return t.changePage(1)}}},[n("i",{staticClass:"icon icon-arrow-right"})])])])]),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",{on:{click:function(e){return t.sortBy("id")}}},[t._v("Id"),n("i",{staticClass:"icon icon-resize-vert"})]),n("th",{on:{click:function(e){return t.sortBy("lname")}}},[t._v("Last"),n("i",{staticClass:"icon icon-resize-vert"})]),n("th",{on:{click:function(e){return t.sortBy("fname")}}},[t._v("First"),n("i",{staticClass:"icon icon-resize-vert"})]),n("th",{on:{click:function(e){return t.sortBy("dob")}}},[t._v("DoB"),n("i",{staticClass:"icon icon-resize-vert"})]),n("th",[t._v("Phones")]),n("th",[t._v("Emails")]),n("th")])]),n("tbody",t._l(t.contacts,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.id))]),n("td",[t._v(t._s(e.lname))]),n("td",[t._v(t._s(e.fname))]),n("td",[t._v(t._s(e.dob.substring(0,10)))]),n("td",[t._v(t._s(t.firstPhone(e)))]),n("td",[t._v(t._s(t.firstEmail(e))+" "),e.emails.length>0?n("div",{staticClass:"dropdown dropdown-right"},[n("a",{staticClass:"btn btn-link dropdown-toggle",attrs:{href:"#",tabindex:"0"},on:{click:function(t){t.stopPropagation()}}},[t._v("+")]),n("ul",{staticClass:"menu"},t._l(e.emails,(function(e){return n("li",{key:e.id},[n("button",{staticClass:"btn btn-link"},[t._v(" "+t._s(e.email)+" ")])])})),0)]):t._e()]),n("td",[n("button",{staticClass:"btn btn-primary",on:{click:function(n){return n.stopPropagation(),t.onEditClicked(e)}}},[n("i",{staticClass:"icon icon-edit"})]),t._v(" "),n("button",{staticClass:"btn btn-error",on:{click:function(n){return n.stopPropagation(),t.onDeleteClicked(e)}}},[n("i",{staticClass:"icon icon-delete"})])])])})),0)]),n("spectre-modal",{ref:"contactModal",attrs:{title:t.modalTitle},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.onSaveContact}},[t._v(t._s(t.saveButtonText))])]},proxy:!0}])},[n("contact-form",{model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1),n("alert",{ref:"alert",attrs:{message:t.alertMessage,autohide:!0}})],1)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-primary input-group-btn dropdown-toggle"},[n("i",{staticClass:"icon icon-search"})])}],g=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("accc"),n("0d03"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("89ba")),b=n("2fa7"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"toast toast-alert",class:t.toastClass},[n("button",{staticClass:"btn btn-clear float-right",on:{click:t.close}}),t._v(" "+t._s(t.msg)+" ")]):t._e()},y=[],w={props:{autohide:{type:Boolean,default:!1}},data:function(){return{visible:!1,msg:"Hello",color:""}},watch:{message:function(t,e){this.msg=t}},computed:{toastClass:function(){if(this.color.length>0){var t={};return t["toast-".concat(this.color)]=!0,t}return{}}},methods:{close:function(){this.visible=!1},open:function(){var t=this;this.visible=!0,this.autohide&&setTimeout((function(){t.visible=!1}),5e3)},info:function(t){this.msg=t,this.color="",this.open()},error:function(t){this.msg=t,this.color="error",this.open()},success:function(t){this.msg=t,this.color="success",this.open()}}},_=w,P=(n("6983"),Object(m["a"])(_,C,y,!1,null,"eef6d750",null)),k=P.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"first"}},[t._v("First Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fname,expression:"fname"}],staticClass:"form-input",attrs:{id:"first",type:"text",placeholder:"First Name"},domProps:{value:t.fname},on:{change:t.update,input:function(e){e.target.composing||(t.fname=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"last"}},[t._v("Last Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.lname,expression:"lname"}],staticClass:"form-input",attrs:{id:"last",type:"text",placeholder:"Last Name"},domProps:{value:t.lname},on:{change:t.update,input:function(e){e.target.composing||(t.lname=e.target.value)}}})]),n("date-picker",{attrs:{title:"Date of Birth"},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{id:"email",type:"email",placeholder:"name@place.com"},domProps:{value:t.email},on:{change:t.update,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-input",attrs:{id:"email",type:"tel",placeholder:"111-222-3333"},domProps:{value:t.phone},on:{change:t.update,input:function(e){e.target.composing||(t.phone=e.target.value)}}})])],1)},E=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v(t._s(t.title))]),n("div",{staticClass:"form-group columns"},[n("div",{staticClass:"column"},[n("label",[t._v("year")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?n:n[0]}}},t._l(t.years,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),n("div",{staticClass:"column"},[n("label",[t._v("month")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?n:n[0]}}},t._l(t.months,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),n("div",{staticClass:"column"},[n("label",[t._v("day")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"form-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.day=e.target.multiple?n:n[0]}}},t._l(t.days,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])])])},N=[],O=(n("c975"),n("26e9"),{props:{value:{type:Date,default:function(){return new Date}},title:String},data:function(){var t=this.value;return{days:this.createDaysArray(t),months:[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],years:this.createYearsArray(t)}},computed:{year:{get:function(){return this.value.getUTCFullYear()},set:function(t){this.update(t,this.month,this.day)}},month:{get:function(){return this.value.getUTCMonth()+1},set:function(t){this.update(this.year,t,this.day)}},day:{get:function(){return this.value.getUTCDate()},set:function(t){this.update(this.year,this.month,t)}}},methods:{createDaysArray:function(t){for(var e=this.getDaysForMonth(t.getMonth(),t.getYear()),n=[],a=0;a<e;a++)n.push(a+1);return n},createYearsArray:function(t){for(var e=t.getYear()+1900,n=[],a=1900;a<=e;a++)n.push(String(a));return n.reverse()},getDaysForMonth:function(t,e){var n=[1,3,5,7,8,10,12],a=[2,4,6,9,11];return n.indexOf(t)>=0?31:a.indexOf(t)>=0?30:e%4==0?29:28},update:function(t,e,n){var a=new Date(Date.UTC(t,e-1,n));this.$emit("input",a)}}}),A=O,$=(n("2b00"),Object(m["a"])(A,S,N,!1,null,"3f8e4dce",null)),j=$.exports,D={components:{DatePicker:j},props:{value:{type:Object,default:function(){return{id:null,fname:"",lname:"",dob:new Date,email:"",phone:""}}}},data:function(){return{fname:"",lname:"",dob:new Date,email:"",phone:""}},methods:{update:function(){var t={fname:this.fname,lname:this.lname,dob:this.dob,email:this.email,phone:this.phone};this.$emit("input",t)}}},M=D,R=Object(m["a"])(M,x,E,!1,null,null,null),z=R.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpened?n("div",{staticClass:"modal active",attrs:{id:"modal-id"}},[n("a",{staticClass:"modal-overlay",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){return t.close()}}}),n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[n("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){return t.close()}}}),n("div",{staticClass:"modal-title h5"},[t._v(t._s(t.title))])]),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"content"},[t._t("default")],2)]),n("div",{staticClass:"modal-footer"},[t._t("footer")],2)])]):t._e()},F=[],L={props:{title:String},data:function(){return{isOpened:!1}},methods:{open:function(){this.isOpened=!0},close:function(){this.isOpened=!1}}},B=L,T=Object(m["a"])(B,U,F,!1,null,null,null),V=T.exports,Y=n("2ef0"),J=n.n(Y);function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(n,!0).forEach((function(e){Object(b["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G={components:{Alert:k,ContactForm:z,SpectreModal:V},data:function(){return{alertMessage:"",contacts:[],form:{id:0,fname:"",lname:"",dob:new Date,email:"",phone:""},fromRow:1,isSearching:!1,searchOptions:[],searchString:"",toRow:10,totalRecords:0}},created:function(){var t=this;this.debouncedUpdateSearchOptions=J.a.debounce((function(){t.updateSearchOptions()}),300)},mounted:function(){this.getPage()},computed:I({canPageLeft:function(){return this.listPage>1},canPageRight:function(){return this.listPage<Math.ceil(this.totalRecords/this.listPageSize)},queryParameters:function(){return"page=".concat(this.listPage,"&pagesize=").concat(this.listPageSize,"&sortby=").concat(this.listSortField,"&sortdir=").concat(this.listSortDir)},modalTitle:function(){return(this.form.id>0?"Update":"Create")+" Contact"},saveButtonText:function(){return this.form.id>0?"Update":"Create"}},Object(i["b"])(["listPage","listPageSize","listSortField","listSortDir"])),methods:{changePage:function(t){this.$store.commit("setListPage",this.listPage+t),this.getPage()},firstEmail:function(t){return t.emails&&t.emails.length>0?t.emails[0].email:"(no email)"},firstPhone:function(t){return t.phones&&t.phones.length>0?t.phones[0].phone:"(no phone)"},getPage:function(){var t=this;s.a.get("/contacts?".concat(this.queryParameters)).then((function(e){var n=e.data;t.contacts=n.data,t.totalRecords=n.numberRecords,t.fromRow=(n.page-1)*n.pagesize+1,t.toRow=n.page*n.pagesize,t.$refs.contactModal.close()})).catch((function(t){console.log(t)}))},onAddContactClicked:function(){this.form.id=null,this.form.fname="",this.form.lname="",this.form.dob=new Date,this.form.email="",this.form.phone="",this.$refs.contactModal.open()},onRowClicked:function(t){this.$router.push({path:"/contact/".concat(t.id)})},onEditClicked:function(t){this.$router.push({path:"/contact/".concat(t.id)})},onDeleteClicked:function(t){var e=this;window.confirm("Are you sure you wish to delete ".concat(t.fname," ").concat(t.lname,"?"))&&s.a.delete("/contacts/".concat(t.id)).then((function(t){e.$refs.alert.success("Contact successfully deleted"),e.getPage()})).catch((function(t){console.log(t)}))},onSaveContact:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.form.fname.length&&0!=this.form.lname.lenth){t.next=3;break}return this.$refs.alert.error("You must enter a first name and a last name"),t.abrupt("return");case 3:return t.next=5,s.a.post("/contacts",I({},this.form,{dob:this.form.dob.toISOString()}));case 5:return e=t.sent,n=e.data,t.next=9,Promise.all([s.a.post("/contacts/".concat(n.id,"/phones"),{phone:this.form.phone}),s.a.post("/contacts/".concat(n.id,"/emails"),{email:this.form.email})]);case 9:this.$refs.alert.success("Contact successfully created"),this.$router.push({path:"/contact/".concat(n.id)});case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sortBy:function(t){t==this.listSortField&&this.$store.commit("setListSortDir","asc"==this.listSortDir?"desc":"asc"),this.$store.commit("setListSortField",t),this.getPage()},updateSearchOptions:function(){var t=this;this.isSearching=!0,s.a.get("/contacts?search=".concat(this.searchString)).then((function(e){t.searchOptions=e.data.data})).catch((function(t){console.log(t)}))}}},H=G,K=(n("57ca"),Object(m["a"])(H,h,v,!1,null,"a18b995e",null)),Q=K.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:"/"}},[t._v("Back to list")]),n("h1",[t._v("Contact Detail")]),t.contact?[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h2",[t._v(t._s(t.contact.lname)+", "+t._s(t.contact.fname)+" "),n("button",{staticClass:"btn btn-link btn-sm",staticStyle:{"padding-top":"4px"},on:{click:t.onEditNameClicked}},[t._v("Edit")])]),n("div",[n("p",[t._v(" Date of Birth: "+t._s(t.contact.dob)+" ")])])])]),n("div",{staticClass:"card space-top"},[n("div",{staticClass:"card-body"},[n("h3",[t._v(" Emails "),n("button",{staticClass:"btn btn-primary float-right",on:{click:t.onCreateNewEmail}},[n("i",{staticClass:"icon icon-plus"})])]),n("div",t._l(t.emails,(function(e,a){return n("div",{key:e.id,staticClass:"columns py-1 px-2",class:{odd:a%2}},[n("div",{staticClass:"col-11"},[n("editable-object-field",{attrs:{value:t.emails[a],field:"email"},on:{input:function(e){return t.onEmailUpdated(t.emails[a])}}})],1),a>0?n("div",{staticClass:"col-1 text-right"},[n("button",{staticClass:"btn btn-sm btn-error",on:{click:function(n){return t.deleteEmailClicked(e)}}},[n("i",{staticClass:"icon icon-cross"})])]):t._e()])})),0)])]),n("div",{staticClass:"card space-top"},[n("div",{staticClass:"card-body"},[n("h3",[t._v(" Phones "),n("button",{staticClass:"btn btn-primary float-right",on:{click:t.onCreateNewPhone}},[n("i",{staticClass:"icon icon-plus"})])]),t.phones.length>0?n("div",t._l(t.phones,(function(e,a){return n("div",{key:e.id,staticClass:"columns py-1 px-2",class:{odd:a%2}},[n("div",{staticClass:"col-11"},[n("editable-object-field",{attrs:{field:"phone"},on:{input:function(e){return t.onPhoneUpdated(t.phones[a])}},model:{value:t.phones[a],callback:function(e){t.$set(t.phones,a,e)},expression:"phones[index]"}})],1),a>0?n("div",{staticClass:"col-1 text-right"},[n("button",{staticClass:"btn btn-sm btn-error",on:{click:function(n){return t.deletePhoneClicked(e)}}},[n("i",{staticClass:"icon icon-cross"})])]):t._e()])})),0):n("div",{staticClass:"empty"},[t._m(0),n("p",{staticClass:"empty-title h5"},[t._v("You have no phones for this contact")]),n("p",{staticClass:"empty-subtitle"},[t._v("Click the button to create a phoone.")]),n("div",{staticClass:"empty-action"},[n("button",{staticClass:"btn btn-primary",on:{click:t.onCreateNewPhone}},[t._v("Add a phone")])])])])]),n("div",{staticClass:"card space-top"},[n("div",{staticClass:"card-body"},[n("h3",[t._v(" Addresses "),n("button",{staticClass:"btn btn-primary float-right",on:{click:t.onCreateNewAddress}},[n("i",{staticClass:"icon icon-plus"})])]),t.addresses.length>0?n("div",t._l(t.addresses,(function(e,a){return n("div",{key:e.id,staticClass:"columns py-1 px-2",class:{odd:a%2}},[n("div",{staticClass:"col-11"},[n("editable-object-field",{attrs:{field:"full_address"},on:{input:function(e){return t.onAddressUpdated(t.addresses[a])}},model:{value:t.addresses[a],callback:function(e){t.$set(t.addresses,a,e)},expression:"addresses[index]"}})],1),n("div",{staticClass:"col-1 text-right"},[n("button",{staticClass:"btn btn-sm btn-error",on:{click:function(n){return t.deleteAddressClicked(e)}}},[n("i",{staticClass:"icon icon-cross"})])])])})),0):n("div",{staticClass:"empty"},[t._m(1),n("p",{staticClass:"empty-title h5"},[t._v("You have no addresses")]),n("p",{staticClass:"empty-subtitle"},[t._v("Click the button to create an address.")]),n("div",{staticClass:"empty-action"},[n("button",{staticClass:"btn btn-primary",on:{click:t.onCreateNewAddress}},[t._v("Add an address")])])])])])]:t._e(),n("spectre-modal",{ref:"emailModal",attrs:{title:"New Email"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.onSaveNewEmail}},[t._v("Create")])]},proxy:!0}])},[n("div",{staticClass:"form-group"},[n("label",[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],staticClass:"form-input",attrs:{type:"email",pattern:t.regexEmail},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}})])]),n("spectre-modal",{ref:"phoneModal",attrs:{title:"New Phone"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.onSaveNewPhone}},[t._v("Create")])]},proxy:!0}])},[n("div",{staticClass:"form-group"},[n("label",[t._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPhone,expression:"newPhone"}],staticClass:"form-input",attrs:{type:"tel",placeholder:"123-456-7890",pattern:t.regexPhone},domProps:{value:t.newPhone},on:{input:function(e){e.target.composing||(t.newPhone=e.target.value)}}})])]),n("spectre-modal",{ref:"addressModal",attrs:{title:"New Address"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.onSaveNewAddress}},[t._v("Create")])]},proxy:!0}])},[n("div",{staticClass:"form-group"},[n("label",[t._v("Address")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newAddress,expression:"newAddress"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.newAddress},on:{input:function(e){e.target.composing||(t.newAddress=e.target.value)}}})])]),n("spectre-modal",{ref:"nameModal",attrs:{title:"Edit Name"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.onUpdateNameClicked}},[t._v("Update")])]},proxy:!0}])},[n("div",{staticClass:"form-group"},[n("label",[t._v("First Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newName.fname,expression:"newName.fname"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.newName.fname},on:{input:function(e){e.target.composing||t.$set(t.newName,"fname",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("Last Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newName.lname,expression:"newName.lname"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.newName.lname},on:{input:function(e){e.target.composing||t.$set(t.newName,"lname",e.target.value)}}})])]),n("alert",{ref:"alert",attrs:{autohide:!0}})],2)},X=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty-icon"},[n("i",{staticClass:"icon icon-people"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty-icon"},[n("i",{staticClass:"icon icon-location"})])}],Z=(n("4d63"),n("ac1f"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isEditing?n("div",[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.cachedValue,expression:"cachedValue"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.cachedValue},on:{input:function(e){e.target.composing||(t.cachedValue=e.target.value)}}}),n("button",{staticClass:"btn btn-error",on:{click:t.onEditCanceled}},[n("i",{staticClass:"icon icon-cross"})]),n("button",{staticClass:"btn btn-primary",on:{click:t.onEditAccepted}},[n("i",{staticClass:"icon icon-check"})])])]):n("div",[t._v(" "+t._s(t.shownValue)+" "),n("button",{staticClass:"btn btn-sm btn-link",on:{click:t.onEditClicked}},[t._v("Edit")])])}),tt=[],et={props:{value:{type:Object,default:function(){return{}}},field:{type:String,default:""}},data:function(){return{cachedValue:"",isEditing:!1}},computed:{shownValue:function(){return this.value[this.field]}},methods:{onEditAccepted:function(){var t=this.value;t[this.field]=this.cachedValue,this.$emit("input",t),this.isEditing=!1},onEditCanceled:function(){this.cachedValue=this.shownValue,this.isEditing=!1},onEditClicked:function(){this.cachedValue=this.shownValue,this.isEditing=!0}}},nt=et,at=(n("a6e0"),Object(m["a"])(nt,Z,tt,!1,null,"69390146",null)),st=at.exports,ot={components:{Alert:k,EditableObjectField:st,SpectreModal:V},props:{id:String},data:function(){return{contact:{},addresses:[],emails:[],phones:[],newEmail:"",newPhone:"",newAddress:"",newName:{fname:"",lname:""},regexEmail:"^\\w+([.]\\w+)*[@]\\w+([.]\\w+)*$",regexPhone:"^[0-9]{3}[-][0-9]{3}[-][0-9]{4}$"}},mounted:function(){this.getContact(),this.getEmails(),this.getPhones(),this.getAddresses()},computed:{},methods:{getContact:function(){var t=this;s.a.get("/contacts/".concat(this.id)).then((function(e){t.contact=e.data})).catch((function(t){console.log(t)}))},getEmails:function(){var t=this;s.a.get("/contacts/".concat(this.id,"/emails")).then((function(e){t.emails=e.data})).catch((function(t){console.log(t)}))},getPhones:function(){var t=this;s.a.get("/contacts/".concat(this.id,"/phones")).then((function(e){t.phones=e.data})).catch((function(t){console.log(t)}))},getAddresses:function(){var t=this;s.a.get("/contacts/".concat(this.id,"/addresses")).then((function(e){t.addresses=e.data})).catch((function(t){console.log(t)}))},deleteAddressClicked:function(t){var e=this;window.confirm("Are you sure you wish to delete ".concat(t.phone))&&s.a.delete("/addresses/".concat(t.id)).then((function(t){e.$refs.alert.success("Address successfully delete"),e.getAddresses()})).catch((function(t){console.log(t)}))},deleteEmailClicked:function(t){var e=this;window.confirm("Are you sure you wish to delete ".concat(t.email))&&s.a.delete("/emails/".concat(t.id)).then((function(t){e.$refs.alert.success("Email successfully delete"),e.getEmails()})).catch((function(t){console.log(t)}))},deletePhoneClicked:function(t){var e=this;window.confirm("Are you sure you wish to delete ".concat(t.phone))&&s.a.delete("/phones/".concat(t.id)).then((function(t){e.$refs.alert.success("Phone successfully delete"),e.getPhones()})).catch((function(t){console.log(t)}))},onAddressUpdated:function(t){var e=this;s.a.put("/addresses/".concat(t.id),t).then((function(t){e.$refs.alert.success("Address updated"),e.getAddresses()})).catch((function(t){console.log(t)}))},onEmailUpdated:function(t){var e=this;s.a.put("/emails/".concat(t.id),t).then((function(t){e.$refs.alert.success("Email updated"),e.getEmails()})).catch((function(t){console.log(t)}))},onPhoneUpdated:function(t){var e=this;s.a.put("/phones/".concat(t.id),t).then((function(t){e.$refs.alert.success("Phone updated"),e.getPhones()})).catch((function(t){console.log(t)}))},onCreateNewAddress:function(){this.newAddress="",this.$refs.addressModal.open()},onCreateNewEmail:function(){this.newEmail="",this.$refs.emailModal.open()},onCreateNewPhone:function(){this.newPhone="",this.$refs.phoneModal.open()},onEditNameClicked:function(){this.newName.fname=this.contact.fname,this.newName.lname=this.contact.lname,this.$refs.nameModal.open()},onSaveNewAddress:function(){var t=this;s.a.post("/contacts/".concat(this.contact.id,"/addresses"),{address:this.newAddress}).then((function(e){t.$refs.addressModal.close(),t.getAddresses()})).catch((function(t){console.log(t)}))},onSaveNewEmail:function(){var t=this,e=new RegExp(this.regexEmail),n=e.test(this.newEmail);n?s.a.post("/contacts/".concat(this.contact.id,"/emails"),{email:this.newEmail}).then((function(e){t.$refs.emailModal.close(),t.$refs.alert.success("Email saved"),t.getEmails()})).catch((function(t){console.log(t)})):this.$refs.alert.error("Please enter a valid email")},onSaveNewPhone:function(){var t=this,e=new RegExp(this.regexPhone),n=e.test(this.newPhone);n?s.a.post("/contacts/".concat(this.contact.id,"/phones"),{phone:this.newPhone}).then((function(e){t.$refs.phoneModal.close(),t.$refs.alert.success("Phone saved"),t.getPhones()})).catch((function(t){console.log(t)})):this.$refs.alert.error("Please enter a valid phone number in the format xxx-yyy-zzzz")},onUpdateNameClicked:function(){var t=this;s.a.put("/contacts/".concat(this.contact.id),{fname:this.newName.fname,lname:this.newName.lname}).then((function(e){t.$refs.nameModal.close(),t.$refs.alert.success("New name saved"),t.getContact()})).catch((function(t){console.log(t)}))}}},it=ot,ct=(n("9636"),Object(m["a"])(it,W,X,!1,null,"99de98da",null)),rt=ct.exports;n("bc12"),n("8966");o["a"].config.productionTip=!1,o["a"].use(c["a"]),o["a"].use(i["a"]),window.axios=s.a,window.axios.defaults.baseURL="http://ec2-54-218-214-243.us-west-2.compute.amazonaws.com:5000/api";var lt=[{path:"/",component:p,children:[{path:"",component:Q,meta:{title:"Contacts List"}},{path:"/contact/:id",component:rt,props:!0,meta:{title:"Contacts Detail"}}]}],ut=new c["a"]({routes:lt}),dt=new i["a"].Store({state:{globalAlertComponent:null,listPage:1,listPageSize:10,listSortField:"id",listSortDir:"asc"},mutations:{setListPage:function(t,e){t.listPage=e},setListPageSize:function(t,e){t.listPageSize=e},setListSortField:function(t,e){t.listSortField=e},setListSortDir:function(t,e){t.listSortDir=e},setGlobalAlertComponent:function(t,e){t.globalAlertComponent=e}}});new o["a"]({render:function(t){return t(p)},router:ut,store:dt}).$mount("#app")},"57ca":function(t,e,n){"use strict";var a=n("7949"),s=n.n(a);s.a},6983:function(t,e,n){"use strict";var a=n("f5d2"),s=n.n(a);s.a},7949:function(t,e,n){},9636:function(t,e,n){"use strict";var a=n("08f6"),s=n.n(a);s.a},a6e0:function(t,e,n){"use strict";var a=n("e91f"),s=n.n(a);s.a},e91f:function(t,e,n){},f5d2:function(t,e,n){}});
//# sourceMappingURL=app.59fb3bc1.js.map